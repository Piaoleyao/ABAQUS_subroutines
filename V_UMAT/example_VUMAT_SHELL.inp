*Heading
**--------------------------------------------------------------------
** Job name: EXAMPLE_VUMAT_SHELL
** Generated by: David Morin
**--------------------------------------------------------------------
*Preprint, echo=NO, model=NO, history=NO, contact=NO
**--------------------------------------------------------------------
** PARTS
**--------------------------------------------------------------------
*Part, name=SHELL
*Node
1,0,0,0
2,5,0,0
3,5,5,0
4,0,5,0
*Element, type=S4R
1,1,2,3,4
*Elset, elset=ELEMENTS
 1
*Nset, nset=CLAMP
  1,  2
*Nset, nset=SYMX
  1,  4
*Nset, nset=LOAD
  3,  4
*Shell Section, elset=ELEMENTS, material=EXAMPLE_VUMAT_SHELL
0.1, 3
*End Part
**--------------------------------------------------------------------
** ASSEMBLY
**--------------------------------------------------------------------
*Assembly, name=Assembly
*Instance, name=SHELL-1, part=SHELL
*End Instance
*Node
      1,          2.5,          6.,           0.
      2,          2.5,         -1.,           0.
*Nset, nset=REFPT_TOP
 1,
*Nset, nset=REFPT_BOT
 2,
*Surface, type=NODE, name=SHELL-1_LOAD_CNS_, internal
SHELL-1.LOAD, 1.
*Surface, type=NODE, name=SHELL-1_CLAMP_CNS_, internal
SHELL-1.CLAMP, 1.
**--------------------------------------------------------------------
** Constraint
**--------------------------------------------------------------------
*Coupling, constraint name="TOP CONSTRAINT", ref node=REFPT_TOP, surface=SHELL-1_LOAD_CNS_
*Kinematic
2, 2
3, 3
*Coupling, constraint name="BOTTOM CONSTRAINT", ref node=REFPT_BOT, surface=SHELL-1_CLAMP_CNS_
*Kinematic
2, 2
3, 3
*End Assembly
**--------------------------------------------------------------------
*Amplitude, name=Amp-2, definition=SMOOTH STEP
          0.,           0.,        0.001,           1
**--------------------------------------------------------------------
** MATERIALS
**--------------------------------------------------------------------
*material,name=EXAMPLE_VUMAT_SHELL
*density
7.8e-9
*user material, CONSTANTS=24
**      E,      NU, BLANK,  BLANK, BLANK, BLANK,  BLANK, BLANK
 210000.0,     0.3,   0.0,    0.0,   0.0,   0.0,    0.0,   0.0
** SIGMA0,      T1,    Q1,     T2,    Q2,    T3,     Q3, BLANK
    250.0, 10000.0,  10.0, 1000.0, 100.0, 100.0, 1000.0,   0.0
**     WC,   DCRIT, BLANK,  BLANK, BLANK, BLANK,  BLANK, BLANK
    250.0,     1.0
*Transverse Shear
6730.7,6730.7, 0
*depvar, delete=3
3
1, P, "Equivalent plastic strain"
2, D, "Damage"
3,STATUS, "Status variable"		  
**--------------------------------------------------------------------
** BOUNDARY CONDITIONS
**--------------------------------------------------------------------
*Boundary
REFPT_TOP, 1, 1
REFPT_TOP, 3, 3
REFPT_TOP, 4, 4
REFPT_TOP, 5, 5
REFPT_TOP, 6, 6
*Boundary
REFPT_BOT, 1, 1
REFPT_BOT, 2, 2
REFPT_BOT, 3, 3
REFPT_BOT, 4, 4
REFPT_BOT, 5, 5
REFPT_BOT, 6, 6
*Boundary
SHELL-1.SYMX, XSYMM
**--------------------------------------------------------------------
** STEP
**--------------------------------------------------------------------
*Step, name=LOADING
*Dynamic, Explicit,scale factor=0.5
, 0.01
*Bulk Viscosity
0.06, 1.2
**--------------------------------------------------------------------
** BOUNDARY CONDITIONS
**--------------------------------------------------------------------
*Boundary, amplitude=Amp-2, type=VELOCITY
REFPT_TOP, 2, 2, 250.0
**--------------------------------------------------------------------
** OUTPUT REQUESTS
**--------------------------------------------------------------------
*Restart, write, number interval=1, time marks=NO
**--------------------------------------------------------------------
** FIELD OUTPUT
**--------------------------------------------------------------------
*OUTPUT,FIELD,NUMBER INTERVAL=100,TIME MARKS=YES
*ELEMENT OUTPUT
S,LE,SDV,STATUS,STH
*NODE OUTPUT
U
**--------------------------------------------------------------------
** HISTORY OUTPUT
**--------------------------------------------------------------------
*Output, history, variable=PRESELECT, time interval=1e-5
*Output, history, time interval=1e-5
*Node Output, nset=REFPT_TOP
RF2, U2
*Element Output, elset=SHELL-1.ELEMENTS
LE, STH, SDV, S
*END STEP
