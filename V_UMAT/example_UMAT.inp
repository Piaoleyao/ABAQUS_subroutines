*Heading
**--------------------------------------------------------------------
** Job name: EXAMPLE_UMAT
** Generated by: David Morin
**--------------------------------------------------------------------
*Preprint, echo=NO, model=NO, history=NO, contact=NO
**--------------------------------------------------------------------
** PARTS
**--------------------------------------------------------------------
*Part, name=TENS_1
*Node
      1, 5,    5,    5
      2, 5,    0,    5
      3, 5,    0,    0
      4, 5,    5,    0
      5, 0,    0,    5
      6, 0,    0,    0
      7, 0,    5,    0
      8, 0,    5,    5  
*Element, type=C3D8R
1, 8, 5, 6, 7, 1, 2, 3, 4
*Nset, nset=SYMY
  2,  3,  5,  6
*Nset, nset=SYMX
  5,  6,  7,  8
*Nset, nset=LOAD
  1,  4,  7,  8
*Nset, nset=SYMZ
  3,  4,  6,  7
*Nset, nset=DISP
  1
*Elset, elset=ELEMENTS
 1,
*Solid Section, elset=ELEMENTS, material=EXAMPLE_UMAT, controls=EC-1
,
*End Part
**--------------------------------------------------------------------
** ASSEMBLY
**--------------------------------------------------------------------
*Assembly, name=Assembly
*Instance, name=TENS_1-1, part=TENS_1
*End Instance
*End Assembly
**--------------------------------------------------------------------
** ELEMENT CONTROLS
**--------------------------------------------------------------------
*Section Controls, name=EC-1, hourglass=ENHANCED
1., 1., 1.
**--------------------------------------------------------------------
** MATERIALS
**--------------------------------------------------------------------
*material,name=EXAMPLE_UMAT
*user material, CONSTANTS=24
**      E,      NU, BLANK,  BLANK, BLANK, BLANK,  BLANK, BLANK
 210000.0,     0.3,   0.0,    0.0,   0.0,   0.0,    0.0,   0.0
** SIGMA0,      T1,    Q1,     T2,    Q2,    T3,     Q3, BLANK
    250.0, 10000.0,  10.0, 1000.0, 100.0, 100.0, 1000.0,   0.0
**     WC,   DCRIT, BLANK,  BLANK, BLANK, BLANK,  BLANK, BLANK
    100.0,     1.0
*depvar, delete=3
3
1, P, "Equivalent plastic strain"
2, D, "Damage"
3,STATUS, "Status variable"
**--------------------------------------------------------------------
** BOUNDARY CONDITIONS
**--------------------------------------------------------------------
*Boundary
TENS_1-1.SYMY, YSYMM
*Boundary
TENS_1-1.SYMX, XSYMM
*Boundary
TENS_1-1.SYMZ, ZSYMM
**--------------------------------------------------------------------
** STEP
**--------------------------------------------------------------------
*Step, name=LOADING, nlgeom=YES, inc=10000
*Static
1.0e-4, 0.02,  1e-08,  2.0e-4
*Solution technique, type=QUASI-NEWTON
**--------------------------------------------------------------------
** BOUNDARY CONDITIONS
**--------------------------------------------------------------------
*Boundary
TENS_1-1.LOAD, 2, 2,  2.0
**--------------------------------------------------------------------
** OUTPUT REQUESTS
**--------------------------------------------------------------------
*Restart, write, number interval=1, time marks=NO
**--------------------------------------------------------------------
** FIELD OUTPUT
**--------------------------------------------------------------------
*OUTPUT,FIELD
*ELEMENT OUTPUT
LE, PEEQ, S, SDV, STATUS
*NODE OUTPUT
U
**--------------------------------------------------------------------
** HISTORY OUTPUT
**--------------------------------------------------------------------
*Output, history
*Node Output, nset=TENS_1-1.LOAD
RF2
*Node Output, nset=TENS_1-1.DISP
U2
*Output, history, variable=PRESELECT
*END STEP